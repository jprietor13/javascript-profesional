<html>
    <head>
        <title>this</title>
    </head>

    <body>
        <a href="/ejercicios/">Go back</a>
        <p><em>Abre la consola</em></p>
        <h1>
            <code>this</code> se refiere a un objeto. Ese objeto es el que actualmente
            está ejecutando un pedazo de código.
        </h1>
        <script>
            //this en el contexto global
            console.log(`This = ${this}`)

            //this en el scope de una funcion
            function quienEsThis() {
                return this;
            }
            console.log(`Quien es this: ${quienEsThis()}`);

            //this en el scope de una funcion de strict mode
            function quienEsThisStrict() {
                "use strict";
                return this;
            }
            console.log(`Quien es this: ${quienEsThisStrict()}`);

            //this en el contexto de un objeto
            const persona = {
                name : 'Juan',
                saludar: function(){
                    console.log(`Hola!! yo me llamo ${this.name}`);
                }
            }
            persona.saludar();

            //this cuando sacamos una funcion de un objeto
            const accion = persona.saludar;
            accion();

            //this en el contexto de una clase
            function Person (name) { //esto funciona como un constructor
                this.name = name;
            }
            Person.prototype.saludar = function(){
                console.log(`Hola!! yo soy el prototipo ${this.name}`)
            }
            //instancia del objeto
            let juan = new Person('Juan'); //le pasamos el nombre
            juan.saludar(); //llamamos al metodo saludar

        </script>
    </body>
</html>